(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{7766:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return s(6006)}])},2099:function(e,t,s){"use strict";var r=s(5893),i=s(7294),l=s(3321),a=s(657),n=s(1425),o=s(6514),c=s(7645);t.Z=e=>{let{title:t,isOpen:s,onClose:d,render:u}=e,[p,m]=i.useState({callback:()=>{console.log("initial onSave")}}),h=()=>{p.callback()},x=e=>{m({callback:()=>e()})};return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(a.Z,{open:s,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(c.Z,{id:"alert-dialog-title",children:t}),(0,r.jsx)(o.Z,{children:u({handleOnSave:x})}),(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(l.Z,{onClick:()=>d(),children:"close"}),(0,r.jsx)(l.Z,{onClick:()=>h(),autoFocus:!0,children:"Save"})]})]})})}},5535:function(e,t,s){"use strict";s.d(t,{K:function(){return o},Z:function(){return c}});var r=s(5893),i=s(7294),l=new class{async deleteUser(e){try{await fetch("/users/".concat(e)).then(e=>{e.json})}catch(t){throw console.error("Failed to delete user with ID ".concat(e),t),t}}constructor(){this.fetchUsers=async()=>{try{return a}catch(e){console.error("Error fetching data:",e)}}}};let a=[{id:"1",name:"John Doe",email:"john@example.com",role:"instructor",profile_picture:"https://example.com/profile/john.jpg",bio:"Experienced Flutter Developer",courses:["courseId1","courseId3"],created_at:"2024-08-01T10:00:00Z",updated_at:"2024-08-15T12:00:00Z"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"student",profile_picture:"https://example.com/profile/jane.jpg",bio:"Aspiring Web Developer",courses:["courseId2","courseId4"],created_at:"2024-07-21T08:30:00Z",updated_at:"2024-08-10T09:45:00Z"},{id:"3",name:"Michael Johnson",email:"michael@example.com",role:"instructor",profile_picture:"https://example.com/profile/michael.jpg",bio:"Senior JavaScript Developer",courses:["courseId5","courseId6"],created_at:"2024-06-15T11:20:00Z",updated_at:"2024-07-28T14:00:00Z"},{id:"4",name:"Emily Davis",email:"emily@example.com",role:"student",profile_picture:"https://example.com/profile/emily.jpg",bio:"Learning Python and Data Science",courses:["courseId7","courseId8"],created_at:"2024-05-10T13:50:00Z",updated_at:"2024-08-05T11:35:00Z"},{id:"5",name:"David Wilson",email:"david@example.com",role:"admin",profile_picture:"https://example.com/profile/david.jpg",bio:"Platform Administrator",courses:[],created_at:"2024-04-01T07:10:00Z",updated_at:"2024-08-18T16:20:00Z"},{id:"6",name:"Sophia Martinez",email:"sophia@example.com",role:"instructor",profile_picture:"https://example.com/profile/sophia.jpg",bio:"Data Science and AI Expert",courses:["courseId9","courseId10"],created_at:"2024-03-22T09:00:00Z",updated_at:"2024-07-29T10:10:00Z"},{id:"7",name:"James Brown",email:"james@example.com",role:"student",profile_picture:"https://example.com/profile/james.jpg",bio:"Frontend Developer Enthusiast",courses:["courseId11","courseId12"],created_at:"2024-02-18T15:30:00Z",updated_at:"2024-08-12T12:55:00Z"}],n=(0,i.createContext)(null),o=e=>{let{children:t}=e,[s,a]=(0,i.useState)(),o=async()=>{await l.fetchUsers().then(a).catch()},c=async e=>{console.log("The user with id "+e+"will be deleted")};return(0,r.jsx)(n.Provider,{value:{users:s,fetchUsers:o,deleteUser:c},children:t})},c=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useUsers must be used within a UsersProvider");return e}},4125:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(5893),i=s(2099),l=s(3321),a=s(3120),n=s(7357),o=s(7294),c=s(6501);function d(){let[e,t]=(0,o.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{sx:{marginBottom:"10px"},onClick:()=>t(!0),color:"primary",variant:"contained",children:"Add User"}),(0,r.jsx)(i.Z,{title:"Add user",isOpen:e,onClose:()=>{t(!1)},render:e=>{let{handleOnSave:s}=e;return(0,r.jsx)(u,{onClose:()=>{t(!1)},handleOnSave:s})}})]})}let u=e=>{let{onClose:t,handleOnSave:s}=e,[i,l]=(0,o.useState)({});(0,o.useEffect)(()=>{s(()=>{c.ZP.success("user added successfully"),t()})},[]);let d=()=>{l({})};return(0,r.jsxs)(n.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,r.jsx)(a.Z,{onClick:d,id:"outlined-basic",label:"name",variant:"outlined",value:i.name,size:"small"}),(0,r.jsx)(a.Z,{id:"outlined-basic",label:"email",variant:"outlined",value:i.email,size:"small"}),(0,r.jsx)(a.Z,{id:"outlined-basic",label:"password",variant:"outlined",value:i.courses,size:"small"})]})}},4097:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(5893),i=s(2099),l=s(3120),a=s(7357),n=s(6501),o=s(7294);function c(e){let{userData:t,isOpen:s,onClose:l}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{title:"Update user",isOpen:s,onClose:()=>l(),render:e=>{let{handleOnSave:s}=e;return(0,r.jsx)(d,{userData:t,onClose:()=>l(),handleOnSave:s})}})})}let d=e=>{let{userData:t,onClose:s,handleOnSave:i}=e;return(0,o.useEffect)(()=>{i(()=>{n.ZP.success("user updated successfully"),s()})}),(0,r.jsxs)(a.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,r.jsx)(l.Z,{id:"outlined-basic",label:"name",variant:"outlined",value:t.name,size:"small"}),(0,r.jsx)(l.Z,{id:"outlined-basic",label:"email",variant:"outlined",value:t.email,size:"small"}),(0,r.jsx)(l.Z,{id:"outlined-basic",label:"password",variant:"outlined",value:t.courses,size:"small"})]})}},5147:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(5893),i=s(7906),l=s(295),a=s(3252),n=s(2882),o=s(3184),c=s(3816),d=s(629),u=s(5535),p=s(7294),m=s(1496),h=s(6501),x=s(1733),f=s(7957);function j(e){let{onUpdateUser:t}=e,{users:s,fetchUsers:m,deleteUser:j}=(0,u.Z)();(0,p.useEffect)(()=>{m()},[]);let v=e=>{j(e),h.ZP.success("Deleted Successfully")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Z,{component:d.Z,children:(0,r.jsxs)(i.Z,{sx:{minWidth:650},ariaLabel:"simple table",children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(a.Z,{children:" Name "}),(0,r.jsx)(a.Z,{children:" Email"}),(0,r.jsx)(a.Z,{children:" ÙŒRole"}),(0,r.jsx)(a.Z,{children:" Courses"}),(0,r.jsx)(a.Z,{})]})}),(0,r.jsx)(l.Z,{children:null==s?void 0:s.map(e=>(0,r.jsxs)(c.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsx)(a.Z,{component:"th",scope:"row",children:e.name}),(0,r.jsxs)(a.Z,{children:[" ",e.email," "]}),(0,r.jsxs)(a.Z,{children:[" ",e.role," "]}),(0,r.jsxs)(a.Z,{children:[" ",e.courses.join()," "]}),(0,r.jsx)(a.Z,{children:(0,r.jsxs)(Z,{children:[(0,r.jsx)(f.Z,{sx:{fontSize:20,cursor:"pointer"},onClick:()=>t(e),Outlined:!0}),(0,r.jsx)(x.Z,{sx:{fontSize:20,cursor:"pointer"},onClick:()=>v(e.id),Outlined:!0})]})})]},e.name))})]})})})}let Z=(0,m.ZP)("div")({display:"flex",justifyContent:"space-around"})},6006:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(5893),i=s(5147),l=s(5535),a=s(4097),n=s(7294),o=s(4125);function c(){let[e,t]=(0,n.useState)({}),[s,c]=(0,n.useState)(!1),d=e=>{t(e),c(!0)};return(0,r.jsxs)(l.K,{children:[(0,r.jsx)(o.default,{}),(0,r.jsx)(a.default,{userData:e,isOpen:s,onClose:()=>c(!1)}),(0,r.jsx)(i.default,{onUpdateUser:e=>d(e)})]})}}},function(e){e.O(0,[120,792,39,774,888,179],function(){return e(e.s=7766)}),_N_E=e.O()}]);